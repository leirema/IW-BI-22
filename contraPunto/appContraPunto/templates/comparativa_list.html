{% extends "base.html" %}
{% load static %}
{% block styles %}
<link rel="stylesheet" href="{% static 'css/estilos_lista.css' %}" />
{% endblock %}
{% block content %}
<section class="comparativa_list">
    <h1>Punto de mira</h1>
    <h2>Análisis de noticias</h2>
    <div class="grid_comparativa">
        {% for comp in comparativas %}
        <article class="card_comparativa">
            <a href="{% url 'comparativa' comp.id %}">
                {% if comp.imagen %}
                <img alt="{{ comp.titulo }}" src="{{comp.imagen.url}}">
                {% endif %}
                <h3>{{ comp.titulo }}</h3>
                <p>{{ comp.contenido|truncatewords:20 }}</p>
                <p class="meta">
                    <span class="fecha">{{ comp.fecha }}</span> |
                    <span class="objetividad">Obj: {{ comp.objetividad|floatformat:1 }}/5</span>
                </p>
            </a>
            <p class="categorias">
                {% for cat in comp.categoria.all %}
                <a href="{% url 'categoria' cat.id %}" class="badge">{{ cat.nombre }}</a>
                {% endfor %}
            </p>
            <div class="medios">
                {% for not in comp.noticias.all %}
                <a href="{% url 'medio' not.medio.id %}">
                    <img alt="{{ not.medio.nombre }}" src="{{not.medio.logo.url}}" class="logo-mini">
                </a>
                {% endfor %}
            </div>
        </article>
        {% endfor %}
    </div>
</section>
{% endblock %}